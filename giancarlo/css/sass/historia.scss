@import 'sobremesas.scss';

/* HISTÓRIA TOP BUTTON */

.js .historia-top-button {
   display: flex;
   justify-content: center;
   align-items: center;
   max-width: fit-content;
   background-color: $cor-contraste-escuro;
   font-size: 2rem;
   color: $cor-contraste-claro;
   padding: 1rem 1.8rem;
   box-shadow: 0px 0px 5px 2px rgba(0,0,0, .2);
   transition: .3s;
   position: fixed;
   bottom: 4%;
   right: 4%;
   visibility: hidden;
   opacity: 0;
   cursor: pointer;
   &:hover {
      transform: scale(1.07);
   }
   &.ativo {
      visibility: visible;
      opacity: 1;
   }
}

/* HISTÓRIA HEADER */

.historia-header-bg {
   background-color: $cor-contraste-escuro;
   overflow: hidden;
   position: sticky;
   top: 0px;
   transition: .5s;
   z-index: 100;
   .historia-header {
      display: flex;
      flex-wrap: nowrap;
      justify-content: space-between;
      gap: 20px;
      max-width: 1150px;
      padding: 15px;
      margin: 0px auto;
      position: relative;
      .historia-header-logo {
         max-width: 732px;
         padding: 5px;
         margin: 0px auto;
      }
      .historia-header-logo-g {
         max-width: 435px;
         visibility: hidden;
         transition: .5s;
         &:hover {
            transform: scale(1.07);
         }
         img {
            opacity: 0;
            transform: translateY(-30px);
            position: absolute;
            bottom: -500px;
            transition: .5s;
         }
      }
      .historia-header-nav {
         display: none;
         color: $cor-contraste-claro;
         @include font(nav);
         li {
            padding: 10px;
            transition: .3s;
            &:hover {
               transform: scale(1.07);
            }
         }
      }
   }
}

.js .js-header-bg.scroll.historia-header-bg {
   background-color: $cor-contraste-escuro;
   overflow: visible;
   .historia-header-logo {
      display: none;
   }
   .historia-header-logo-g {
      visibility: visible;
      img {
         position: static;
         opacity: 1;
         transform: translateY(0px);
      }
   }
   .historia-header-nav {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      & > ul {
         display: flex;
         flex-direction: column;
         gap: 5px;
         & > li:first-of-type {
            cursor: pointer;
            position: relative;
            .historia-menu-arrow {
               display: inline-block;
               transition: .3s;
               &.ativo {
                  transform: rotate(180deg);
               }
            }
         }
         & > li {
            padding: 5px 10px;
         }
         .historia-header-nav-menu {
            max-width: 150px;
            background-color: $cor-contraste-escuro;
            border: 1px solid $cor-contraste-claro;
            box-shadow: 0px 0px 0px 1px $cor-contraste-escuro;
            visibility: hidden;
            opacity: 0;
            transition: .3s;
            transform: translateY(-30px);
            position: absolute;
            top: 40px;
            left: 0px;
            z-index: 400;
            li {
               position: relative;
               &::after {
                  content: '';
                  width: 0%;
                  height: 1px;
                  background-color: $cor-contraste-claro;
                  transition: .3s;
                  position: absolute;
                  bottom: 10px;
                  left: 5%;
               }
            }
            li:hover {
               transform: scale(1);
               &::after {
                  width: 90%;
               }
            }
         }
         .historia-header-nav-menu.ativo {
            visibility: visible;
            opacity: 1;
            transform: translateY(0px);
         }
      }
   }
}

/* HISTÓRIA HAMBURGER NAV BUTTON */

.js .js-header-bg.scroll.historia-header-bg .historia-header-nav-hamburger {
   display: none;
   place-self: center;
   background-color: transparent;
   padding: 10px;
   span {
      display: none;
      width: 24px;
      color: $cor-contraste-claro;
      border-top: 1px solid currentColor;
      opacity: 1;
      transition: .3s;
      transform: rotate(0deg);
      &::before, &::after {
         content: '';
         display: block;
         width: 24px;
         height: 1px;
         background-color: currentColor;
         margin-top: 5px;
         transition: .3s;
      }
   }
   &.ativo {
      span {
         transform: rotate(45deg);
         &::before {
            opacity: 0;
         }
         &::after {
            transform: rotate(-90deg);
            position: relative;
            top: -12px;
         }
      }
      & ~ .historia-header-nav {
         flex-direction: column;
         flex-wrap: nowrap;
         justify-content: flex-start;
         align-items: center;
         background-color: $cor-contraste-escuro;
         opacity: 1;
         visibility: visible;
         position: absolute;
         top: 83px;
         right: 0px;
         & > ul {
            display: flex;
            flex-direction: column;
            gap: 0px;
            & > li:first-of-type {
               cursor: pointer;
               position: relative;
               .historia-menu-arrow {
                  display: inline-block;
                  transition: .3s;
                  &.ativo {
                     transform: rotate(180deg);
                  }
               }
            }
            .historia-header-nav-menu {
               max-width: fit-content;
               background-color: $cor-contraste-escuro;
               border: 1px solid $cor-contraste-claro;
               box-shadow: 0px 0px 0px 1px $cor-contraste-escuro;
               visibility: hidden;
               opacity: 0;
               transition: .3s;
               transform: translateY(-30px);
               position: absolute;
               top: 40px;
               left: 0px;
               z-index: 400;
            }
            .historia-header-nav-menu.ativo {
               visibility: visible;
               opacity: 1;
               transform: translateY(0px);
            }
            & > li:first-of-type {
               border-bottom: 1px solid $cor-contraste-claro;
            }
            & > li:nth-of-type(2) {
               margin-block: 10px;
            }
            & > li:last-of-type {
               border-top: 1px solid $cor-contraste-claro;
            }
         }
      }
   }
}

/* MAIN */ 

.historia-bg {
   background-color: $cor-contraste-escuro;
   overflow: hidden;
}

.historia-light {
   background-color: $cor-contraste-claro;
}

/* COMEÇO */


.comeco {
   padding: 0px 15px 80px 15px;
   .comeco-img {
      grid-column: 1 / span 10;
      grid-row: 1;
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: 1fr;
      height: 664px;
      margin: 0px 0px 80px -160px;
      overflow: hidden;
      img {
         grid-column: 1;
         grid-row: 1;
         filter: grayscale(1);
         object-fit: cover;
         object-position: 50% 50%;
      }
      .comeco-img-linear {
         grid-column: 1;
         grid-row: 1;
         background: linear-gradient(
            to right,
            transparent 60%,
            rgba(0,0,0, .8) 100%
         );
         z-index: 2;
      }
      .comeco-img-radial {
         grid-column: 1;
         grid-row: 1;
         background: radial-gradient(
            transparent 50%,
            rgba(0,0,0, .25) 60%,
            rgba(0,0,0, 1) 100%
         );
         z-index: 3;
      }
   }
   .comeco-title {
      grid-column: -1 / -7;
      grid-row: 1;
      place-self: end stretch;
      background-color: $cor-contraste-claro;
      text-align: end;
      color: $cor-contraste-escuro;
      padding: 20px 10px;
      margin-bottom: 140px;
      cursor: default;
      z-index: 5;
      @include font(title);
   }
   .comeco-text {
      grid-column: 1 / -1;
      grid-row: 2;
      display: flex;
      justify-content: space-between;
      color: $cor-contraste-claro;
      margin-bottom: 80px;
      cursor: default;
      @include font(text);
      p {
         flex: 0 1 530px;
      }
      p:not(:last-of-type) {
         margin-right: 50px;
      }
   }
   .comeco-img-bottom {
      grid-column: 2 / span 10;
      grid-row: 3;
      height: 300px;
      background-image: url(../img/historia/campos-g.jpg);
      background-attachment: fixed;
      background-repeat: no-repeat;
      background-size: cover;
      filter: grayscale(1);
      margin-bottom: 80px;
   }
}

/* COMEÇO --> ANIMAÇÕES */

.js {
   .comeco-img.js-historia-anime {
      opacity: 0;
      transition: 2s ease-out;
      transform: translateX(-40rem);
      & ~ .comeco-title {
         opacity: 0;
         transition: 2s ease-out;
         transform: translateX(6rem);
      }
      &.ativo, &.ativo ~ .comeco-title {
         opacity: 1;
         transform: translateX(0px);
      }
   }
   .comeco-text.js-historia-anime {
      opacity: 0;
      transition: 1.5s ease-out;
      transform: translateY(8rem);
      &.ativo {
         opacity: 1;
         transform: translateY(0px);
      }
   }
   .comeco-img-bottom.js-historia-anime {
      opacity: 0;
      transition: 1.5s ease-out;
      transform: translateY(8rem);
      &.ativo {
         opacity: 1;
         transform: translateY(0px);
      }
   }
}

/* LLAVINE */

.llavine {
   padding: 0px 15px 80px 15px;
   .llavine-img {
      grid-column: 1 / span 5;
      grid-row: 1 / span 3;
      height: 700px;
      margin-bottom: 80px;
      overflow: hidden;
      img {
         filter: grayscale(1);
         object-fit: cover;
         object-position: 50% 50%;
         transition: .3s;
         &:hover {
            transform: scale(1.1);
         }
      }
   }
   .llavine-title {
      grid-column: -1 / -7;
      grid-row: 1;
      place-self: start stretch;
      background-color: $cor-contraste-claro;
      text-align: end;
      color: $cor-contraste-escuro;
      padding: 20px 10px;
      margin-bottom: 60px;
      cursor: default;
      @include font(title);
   }
   .llavine-text {
      grid-column: 7 / -1;
      grid-row: 2;
      color: $cor-contraste-claro;
      cursor: default;
      @include font(text);
      p:not(:last-of-type) {
         margin-bottom: 30px;
      }
   }
}

/* LLAVINE --> ANIMAÇÕES */

.js {
   .llavine-img.js-historia-anime {
      opacity: 0;
      transition: 2.5s ease-out;
      transform: translateX(-10rem);
      & ~ .llavine-title {
         opacity: 0;
         transition: 2.5s ease-out;
         transform: translateX(6rem);
      }
      & ~ .llavine-text {
         opacity: 0;
         transition: 2.5s ease-out;
         transform: translateX(8rem);
      }
      &.ativo, &.ativo ~ .llavine-title, &.ativo ~ .llavine-text {
         opacity: 1;
         transform: translateX(0px);
      }
   }
}

/* RIO */

.rio {
   padding: 80px 15px;
   align-items: stretch;
   .rio-title {
      grid-column: 1 / span 6;
      grid-row: 1;
      padding: 20px 10px;
      background-color: $cor-contraste-escuro;
      color: $cor-contraste-claro;
      margin: 0px -20px 60px 0px;
      cursor: default;
      @include font(title);
   }
   .rio-text {
      grid-column: 1 / span 6;
      grid-row: 2;
      color: $cor-contraste-escuro;
      margin-bottom: 60px;
      cursor: default;
      @include font(text);
      p:not(:last-of-type) {
         margin-bottom: 30px;
      }
   }
   .rio-img {
      grid-column: 1 / span 5;
      grid-row: 3;
      height: 315px;
      overflow: hidden;
      img {
         filter: grayscale(1);
         object-fit: cover;
         object-position: 50% 57%;
         transition: .3s;
         &:hover {
            transform: scale(1.1);
         }
      }
   }
   .rio-inner-bg {
      grid-column: 7 / span 6;
      grid-row: 1 / span 4;
      display: grid;
      grid-template-columns: repeat(6, minmax(50px, 1fr));
      align-content: start;
      align-items: start;
      column-gap: 20px;
      max-width: 550px;
      background-color: $cor-contraste-escuro;
      .rio-img-right {
         grid-column: 2 / span 5;
         grid-row: 1;
         height: 315px;
         margin-block: 60px;
         overflow: hidden;
         img {
            filter: grayscale(1);
            object-fit: cover;
            object-position: 50% 50%;
            transition: .3s;
            &:hover {
               transform: scale(1.1);
            }
         }
      }
      .rio-text-right {
         grid-column: 2 / span 5;
         grid-row: 2;
         color: $cor-contraste-claro;
         margin-bottom: 60px;
         cursor: default;
         @include font(text);
      }
      .rio-btn {
         grid-column: 2 / span 5;
         grid-row: 3;
         place-self: start;
         margin-right: 10px;
         @include button(light, black)
      }
   }
}

.rio ~ hr {
   max-width: 1120px;
   border-bottom: 1px solid $cor-contraste-escuro;
   margin: 0px auto;
}

/* RIO --> ANIMAÇÕES*/

.js {
   .rio-title.js-historia-anime {
      opacity: 0;
      transition: 1s ease-out;
      transform: translateY(-10rem);
      & ~ .rio-text {
         opacity: 0;
         transition: 1s ease-out 0.8s;
         transform: translateY(-8rem);
      }
      & ~ .rio-img {
         opacity: 0;
         transition: 1s ease-out 1.8s;
         transform: translateY(-8rem);
      }
      & ~ .rio-inner-bg {
         height: 0%;
         opacity: 0;
         overflow: hidden;
         transition: 2s ease-out 0.8s;
         .rio-img-right {
            opacity: 0;
            transition: 1s ease-out 2.8s;
            transform: translateX(8rem);
         }
         .rio-text-right {
            opacity: 0;
            transition: 1s ease-out 3.8s;
            transform: translateX(8rem);
         }
         .rio-btn {
            opacity: 0;
            transition: opacity 1.5s ease-out 3.8s, transform 1.5s ease-out 3.8s, box-shadow .3s;
            transform: translateX(8rem);
         }
      }
      &.ativo {
         opacity: 1;
         transform: translateY(0px);
         & ~ .rio-text, & ~ .rio-img {
            opacity: 1;
            transform: translateY(0px);
         }
         & ~ .rio-inner-bg {
            height: 100%;
            opacity: 1;
            .rio-img-right, .rio-text-right, .rio-btn {
               opacity: 1;
               transform: translateX(0px);
            }
         }
      }
   }
}

/* IRMÃOS */

.irmaos {
   padding: 80px 15px 60px 15px;
   .irmaos-img {
      grid-column: 1 / span 5;
      grid-row: 1 / span 4;
      height: 600px;
      overflow: hidden;
      img {
         object-fit: cover;
         object-position: 50% 50%;
         transition: .3s;
         &:hover {
            transform: scale(1.1);
         }
      }
   }
   .irmaos-title {
      grid-column: 6 / -1;
      grid-row: 1;
      max-width: fit-content;
      color: $cor-contraste-escuro;
      border-bottom: 1px solid $cor-contraste-escuro;
      margin-bottom: 60px;
      cursor: default;
      @include font(title);
   }
   .irmaos-text {
      grid-column: 7 / -1;
      grid-row: 2;
      color: $cor-contraste-escuro;
      cursor: default;
      @include font(text);
   }
   .irmaos-quote {
      grid-column: 6 / -1;
      grid-row: 4;
      background-color: $cor-secundaria;
      color: $cor-contraste-escuro;
      padding: 30px 10px;
      cursor: default;
      @include font(quote);
      span {
         display: block;
         font-size: 2.4rem;
         text-align: end;
         margin-top: 10px;
      }
   }
}

/* IRMÃOS --> ANIMAÇÕES */

.js {
   .irmaos-img.js-historia-anime {
      opacity: 0;
      transition: 2.5s ease-out;
      transform: translateY(-10rem);
      & ~ .irmaos-title {
         opacity: 0;
         transition: 1.5s ease-out .5s;
         transform: translateY(8rem);
      }
      & ~ .irmaos-text {
         opacity: 0;
         transition: 1.5s ease-out 1s;
         transform: translateX(8rem);
      }
      & ~ .irmaos-quote {
         opacity: 0;
         transition: 1.5s ease-out 2s;
         transform: translateY(8rem);
      }
      &.ativo, &.ativo ~ .irmaos-title, &.ativo ~ .irmaos-text, &.ativo ~ .irmaos-quote {
         opacity: 1;
         transform: translateY(0px);
      }
   }
}

/* RESPONSIVIDADE */

@media only screen and (max-width: 1130px) {
   .comeco-title, .llavine-title, .rio-title, .irmaos-title {
      font-size: 4rem !important;
   }
}

@media only screen and (max-width: 910px) {
   .comeco-title, .llavine-title, .rio-title, .irmaos-title {
      font-size: 3.8rem !important;
   }
}

@media only screen and (max-width: 850px) {
   .historia-header-bg .historia-header {
      .historia-header-logo {
         max-width: 650px;
      }
      .historia-header-logo-g {
         max-width: 250px;
      }
   }
   .comeco {
      padding: 0px 10px 40px 10px;
      .comeco-img {
         grid-column: 1 / span 11;
         grid-row: 1;
         height: 350px;
         margin: 0px 0px 80px -10px;
      }
      .comeco-title {
         grid-column: -1 / -8;
         grid-row: 1;
         font-size: 3.4rem !important;
         padding: 10px;
         margin-bottom: 40px;
         margin-right: -10px;
      }
      .comeco-text {
         grid-column: 2 / span 10;
         grid-row: 2;
         display: flex;
         flex-direction: column;
         margin-bottom: 40px;
         p {
            flex: 0 1 0px;
            &:not(:last-of-type) {
               margin-bottom: 30px;
            }
         }
      }
      .comeco-img-bottom {
         grid-column: 1 / -1;
         grid-row: 3;
         height: 230px;
         margin-bottom: 40px;
      }
   }
   .llavine {
      padding: 0px 10px 40px 10px;
      .llavine-img {
         grid-column: 1 / -1;
         grid-row: 3;
         height: 450px;
         margin-bottom: 40px;
         img {
            object-position: 50% 30%;
         }
      }
      .llavine-title {
         grid-column: -1 / -8;
         grid-row: 1;
         font-size: 3.4rem !important;
         padding: 10px;
         margin-bottom: 30px;
         margin-right: -10px;
      }
      .llavine-text {
         grid-column: 2 / span 10;
         grid-row: 2;
         p:not(:last-of-type) {
            margin-bottom: 30px;
         }
         p {
            margin-bottom: 30px;
         }
      }
   }
   .js {
      .llavine-title.js-historia-anime {
         opacity: 0;
         transition: 2.5s ease-out;
         transform: translateX(6rem);
         & ~ .llavine-text {
            opacity: 0;
            transition: 2.5s ease-out;
            transform: translateX(8rem);
         }
         &.ativo, &.ativo ~ .llavine-title, &.ativo ~ .llavine-text {
            opacity: 1;
            transform: translateX(0px);
         }
      }
   }
   .rio {
      padding: 40px 10px;
      .rio-title {
         grid-column: 1 / span 7;
         grid-row: 1;
         padding: 10px;
         margin: 0px -20px 30px -10px;
      }
      .rio-text {
         grid-column: 2 / span 10;
         grid-row: 2;
         margin-bottom: 30px;
         p:not(:last-of-type) {
            margin-bottom: 0px;
         }
         p:first-of-type {
            margin-bottom: 30px;
         }
      }
      .rio-img {
         grid-column: 1 / span 12;
         grid-row: 3;
         height: 350px;
         margin-bottom: 30px;
         img {
            object-position: 50% 50%;
         }
      }
      .rio-inner-bg {
         grid-column: 1 / span 12;
         grid-row: 6;
         grid-template-columns: repeat(6, minmax(10px, 1fr));
         max-width: revert;
         padding: 30px 10px;
         .rio-img-right {
            grid-column: 1 / span 6;
            grid-row: 3;
            height: 350px;
            margin-block: 30px;
         }
         .rio-text-right {
            grid-column: 1 / span 6;
            grid-row: 1;
            margin-bottom: 30px;
         }
         .rio-btn {
            grid-column: 1 / span 6;
            grid-row: 2;
            place-self: start end;
            margin-right: 0px;
         }
      }
   }
   .rio ~ hr {
      max-width: 1120px;
      border-bottom: 1px solid $cor-contraste-escuro;
      margin: 0px 10px;
   }   
   .irmaos {
      padding: 40px 10px 30px 10px;
   }
}

@media only screen and (max-width: 730px) {
   .comeco-title {
      grid-column: -1 / -9 !important;
   }
}

@media only screen and (max-width: 600px) {
   .js .js-header-bg.scroll.historia-header-bg {
      .historia-header-nav-hamburger {
         display: block;
         span {
            display: block;
         }
      }
      .historia-header-nav {
         font-size: 2.6rem !important;
         padding: 20px;
         opacity: 0;
         visibility: hidden;
         position: absolute;
         top: 119px;
         right: 0px;
      }
   }
   .irmaos {
      padding: 40px 10px 90px 10px;
      .irmaos-img {
         grid-column: 1 / -1;
         grid-row: 4;
         height: 350px;
         overflow: hidden;
         img {
            object-position: 30% 70%;
         }
      }
      .irmaos-title {
         grid-column: 1 / -1;
         grid-row: 1;
         max-width: fit-content;
         margin-bottom: 30px;
         br {
            display: none;
         }
      }
      .irmaos-text {
         grid-column: 1 / -1;
         grid-row: 2;
         margin-bottom: 30px;
      }
      .irmaos-quote {
         grid-column: 4 / -1;
         grid-row: 4;
         place-self: end;
         padding: 10px;
         position: relative;
         bottom: -60px;
      }
   }
}